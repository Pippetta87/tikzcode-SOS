\documentclass[../main.tex]{subfiles}

\begin{document}


\pgfplotsset{yticklabel style={text width=3em,align=right},every axis plot post/.append style={black},no marks}


\begin{tikzpicture}[remember picture,overlay]

\coordinate (coordd) at ([shift={(2,2)}]current page.north west);
\begin{axis}[name=density, at=(coordd),anchor=north west,
 y tick label style={
        /pgf/number format/.cd,
            fixed,
            precision=2,
        /tikz/.cd
    },
    x tick label style={
        /pgf/number format/.cd,
           fixed,
            precision=3,
        /tikz/.cd
    },
  xlabel=Mass,
  ylabel=density]
%\addplot+[smooth] table [y=rho, x=M]{ssm.txt};
%\draw[color=black] plot[smooth,mark=*,mark size=1pt] file {ssm.txt} node [right] {data};
%\addplot gnuplot [raw gnuplot, id=test, mark=none, color=blue]{plot "test2" using ($1):($4) {ssm.txt}  };
\addplot gnuplot [raw gnuplot,id=rhoM,no marks,smooth]{plot 'ssm.txt' using ($0):($3)};
\end{axis}

\begin{axis}[name=temp,at={([shift={(-2,2)}]current page.south east)},anchor=south east,
 y tick label style={
        /pgf/number format/.cd,
            sci,
            precision=2,
        /tikz/.cd
    },
    x tick label style={
        /pgf/number format/.cd,
           fixed,
            precision=3,
        /tikz/.cd
    },
  xlabel=Mass,
  ylabel=T]

\addplot gnuplot [raw gnuplot,id=massT,no marks,smooth]{plot 'ssm.txt' using 0:2};

\end{axis}


\begin{axis}[name=luminosity,at={([shift={(2,2)}]current page.south west)},anchor=south west,
 y tick label style={
        /pgf/number format/.cd,
            sci,
            precision=4,
        /tikz/.cd
    },
    x tick label style={
        /pgf/number format/.cd,
           sci,
            precision=3,
        /tikz/.cd
    },
  xlabel=Mass,
  ylabel=L]

\addplot gnuplot [raw gnuplot,id=massL,no marks,smooth]{plot 'ssm.txt' using 0:5};

\end{axis}

\begin{axis}[name=hydrogen,at ([shift={(-10,-10)}]current page.north east),anchor=north east,
 y tick label style={
        /pgf/number format/.cd,
            fixed,
            precision=5
    },
    x tick label style={
        /pgf/number format/.cd,
           fixed,
            precision=6
    },
  xlabel=Mass,
  ylabel=X]

\addplot gnuplot [raw gnuplot,id=massX,no marks,smooth]{plot 'ssm.txt' using 0:6};

\end{axis}

\end{tikzpicture}

\clearpage

\end{document}